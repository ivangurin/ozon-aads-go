# Хеш-множество с закрытой адресацией

## Условие задачи

Даша решила продолжить приключения со своей хеш-таблицей, разработанной ранее, и реализовать на её основе структуру данных [<<множество>>](https://ru.wikipedia.org/wiki/Множество) со следующими свойствами:

• Строкой называется последовательность ASCII-символов x в диапазоне 33≤x≤126.
• Элементы хеш-множества — строки.
• Хеш, состоящей из символов c0,…,cm считается по формуле:

hash(h0,…,hm)=h0⋅31m+h1⋅31m−1+…+hm−1⋅31+hm,

где hi =ci−33 — хеш символа ci строки.

В рекурсивной форме: hash()=0;hash(h0,…,hm)=hash(h0,…hm−1)⋅31+hm

• Начальная ёмкость внутренней хеш-таблицы — 4.

• Коэффициент заполнения внутренней хеш-таблицы - 0.75

• Доступны операции:

    • add(element) — добавление элемента element во множество. Ничего не делает, если этот элемент уже содержится.

    • remove(element) — удаление элемента element из множества. Ничего не делает, если этот элемент не содержится.

    • contains(element) — проверка наличия элемента element во множестве.

    • print() — вывод структуры внутренней хеш-таблицы.

    • Увеличение ёмкости (расширение) происходит при достижении коэффициента заполнения, то есть сразу после вставки, в результате которой количество уникальных ключей в таблице стало не менее 0.75 её ёмкости.

    • Ёмкость внутренней хеш-таблицы при расширении увеличивается в 2 раза.

    • Уменьшение ёмкости хеш-таблицы при удалении элементов не происходит.

    • Используется закрытая адресация на основе односвязных списков.

    • Новые элементы в общем бакете добавляются в конец списка.

    • При расширении, внутренней хеш-таблицы, элементы списка в бакете добавляются в расширенную хеш-таблицу в порядке обхода, в результате чего последовательность этих элементов в бакете разворачивается.

    Например, если до расширения был бакет:

    A1→A2→B1→A3→B2

    и произошло расширение, в результате которого вершины A и B отправились в различные бакеты, то эти бакеты будут иметь вид:

    A3→A2→A1

    и

    B2→B1

    Что позволяет иметь более простую операцию.

Помоги Даше реализовать такое хеш-множество.

## Входные данные

В первой строке вводится натуральное число N — число операций, которые требуется выполнить.

N не превышает 2^31.

Последующие N строчек описывают одну из команд:

• add ELEMENT: добавляет элемент ELEMENT из множества.

• remove ELEMENT: удаляет элемент ELEMENT из множества.

• contains ELEMENT: проверяет наличие элемента ELEMENT в множестве.

• print: выводит структуру хеш-таблицы.

## Выходные данные

Для операций add и remove ничего не выводится.

Для операции contains, выводится символ <<плюс>> (+) и символ новой строки, если значение присутствует в таблице и <<минус>> (-) и символ новой строки — иначе.

Для операции print выводится пара из размера SIZE и ёмкости CAPACITY через пробел (SIZE CAPACITY) и перенос строки.

Последующие CAPACITY строчек содержат последовательность пар ключ-значение (с последующим переносом строки), для данного бакета, где каждая пара записана как KEY, то есть подряд идущие:

    • символ пробела (32 в ASCII);

    • элемент ELEMENT.

Например, если бакет представляет из себя цепочку

A1→A2→A3,

то для него должно быть выведено

A1 A2 A3

## Пример теста 1

### Входные данные

```
8
add foo
add bar
print
contains foo
add baz
remove bar
print
contains baz

```

### Выходные данные

```
2 4

 foo
 bar

+
2 8


 baz


 foo


+

```

## Пример теста 2

### Входные данные

```
15
add 1
add 5
contains 1
contains 5
contains 4
print
add 4
print
contains 1
contains 4
contains 5
remove 1
print
remove 5
print

```

### Выходные данные

```
+
+
-
2 4
 1 5



3 8
 1


 4
 5



+
+
+
2 8



 4
 5



1 8



 4





```
